{"ast":null,"code":"import _asyncToGenerator from\"/Users/navyabhatia/Desktop/react-wiki 2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/navyabhatia/Desktop/react-wiki 2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/navyabhatia/Desktop/react-wiki 2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/navyabhatia/Desktop/react-wiki 2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/navyabhatia/Desktop/react-wiki 2/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import registerUser from\"../../API/RegisterUser\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{TextField,Container,Button,Typography,Card,CardContent,Tooltip}from\"@mui/material\";import MyToastContainer from\"../MyToastContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initialFormState={fullname:\"\",email:\"\",password:\"\"};// compoment function\nvar Register=function Register(){var _useState=useState(initialFormState),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();var handleChange=function handleChange(e){setUser(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return registerUser(user);case 3:data=_context.sent;if(data.success){_context.next=8;break;}toast.error(\"\".concat(data.msg,\" \"));console.error(data.msg);return _context.abrupt(\"return\");case 8:// redirect to login page\nnavigate(\"/login\",{replace:true});case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MyToastContainer,{}),/*#__PURE__*/_jsx(Container,{sx:{marginTop:10},children:/*#__PURE__*/_jsx(Card,{sx:{maxWidth:500,marginX:\"auto\",boxShadow:4,bgcolor:\"#EEF2FF\"},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",textAlign:\"center\",sx:{margin:5},children:\"Register\"}),/*#__PURE__*/_jsx(TextField,{label:\"Fullname\",id:\"fullname\",name:\"fullname\",margin:\"normal\",value:user.fullname,onChange:handleChange,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",id:\"email\",name:\"email\",type:\"email\",margin:\"normal\",value:user.email,onChange:handleChange,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",id:\"password\",name:\"password\",type:\"password\",margin:\"normal\",value:user.password,onChange:handleChange,fullWidth:true}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{paddingX:5,paddingY:1,marginY:2},onClick:handleSubmit,children:\"Register\"}),/*#__PURE__*/_jsxs(Typography,{paragraph:true,gutterBottom:true,variant:\"subtitle2\",sx:{fontSize:\"1rem\"},children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(Tooltip,{title:\"Log in\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:\"none\"},children:\"Login\"})})]})]})})})]});};export default Register;","map":{"version":3,"sources":["/Users/navyabhatia/Desktop/react-wiki 2/src/Components/Auth/Register.jsx"],"names":["useState","Link","useNavigate","registerUser","toast","TextField","Container","Button","Typography","Card","CardContent","Tooltip","MyToastContainer","initialFormState","fullname","email","password","Register","user","setUser","navigate","handleChange","e","prevState","target","name","value","handleSubmit","preventDefault","data","success","error","msg","console","replace","marginTop","maxWidth","marginX","boxShadow","bgcolor","margin","paddingX","paddingY","marginY","fontSize","textDecoration"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport registerUser from \"../../API/RegisterUser\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport {\n  TextField,\n  Container,\n  Button,\n  Typography,\n  Card,\n  CardContent,\n  Tooltip,\n} from \"@mui/material\";\nimport MyToastContainer from \"../MyToastContainer\";\n\nconst initialFormState = {\n  fullname: \"\",\n  email: \"\",\n  password: \"\",\n};\n\n// compoment function\nconst Register = () => {\n  const [user, setUser] = useState(initialFormState);\n  const navigate = useNavigate();\n  const handleChange = (e) => {\n    setUser((prevState) => ({ ...prevState, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = await registerUser(user); // call api\n    if (!data.success) {\n      toast.error(`${data.msg} `);\n      console.error(data.msg);\n      return;\n    }\n    // redirect to login page\n    navigate(\"/login\", { replace: true });\n  };\n\n  return (\n    <>\n      <MyToastContainer />\n      <Container sx={{ marginTop: 10 }}>\n        <Card\n          sx={{\n            maxWidth: 500,\n            marginX: \"auto\",\n            boxShadow: 4,\n            bgcolor: \"#EEF2FF\",\n          }}>\n          <CardContent>\n            <Typography\n              variant=\"h3\"\n              component=\"h1\"\n              textAlign=\"center\"\n              sx={{ margin: 5 }}>\n              Register\n            </Typography>\n            <TextField\n              label=\"Fullname\"\n              id=\"fullname\"\n              name=\"fullname\"\n              margin=\"normal\"\n              value={user.fullname}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              label=\"Email\"\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              margin=\"normal\"\n              value={user.email}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              label=\"Password\"\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              margin=\"normal\"\n              value={user.password}\n              onChange={handleChange}\n              fullWidth\n            />\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              sx={{ paddingX: 5, paddingY: 1, marginY: 2 }}\n              onClick={handleSubmit}>\n              Register\n            </Button>\n            <Typography\n              paragraph\n              gutterBottom\n              variant=\"subtitle2\"\n              sx={{ fontSize: \"1rem\" }}>\n              Already have an account?{\" \"}\n              <Tooltip title=\"Log in\">\n                <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\n                  Login\n                </Link>\n              </Tooltip>\n            </Typography>\n          </CardContent>\n        </Card>\n      </Container>\n    </>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}