{"ast":null,"code":"var _jsxFileName = \"/Users/navyabhatia/Desktop/react-wiki/src/Components/UserPage/LoginPage.js\",\n    _s = $RefreshSig$();\n\n/*import React from 'react'\n\nconst LoginPage = () => {\n    return (\n        <div>\n            loginpage arrived;\n        </div>\n    )\n}\n\nexport default LoginPage\n*/\nimport React from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { TextField, Container, Button, Typography, Card, CardContent, Tooltip } from \"@mui/material\";\nimport loginUser from \"./Components/UserPage/LoginUser\";\nimport MyToastContainer from \"./Components/UserPage/MyToastContainer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialFormState = {\n  email: \"\",\n  password: \"\"\n};\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [user, setUser] = useState(initialFormState);\n\n  const handleChange = e => {\n    setUser(prevState => ({ ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = await loginUser(user); // call api\n\n    if (data.success) {\n      // if login success\n      console.log(\"login successful\");\n      localStorage.setItem(\"isLoggedIn\", true);\n      navigate(\"/\", {\n        replace: true\n      });\n      return;\n    } // if login failed\n\n\n    toast.error(`${data.msg}`);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"isLoggedIn\")) {\n      // user already logged in\n      navigate(\"/\", {\n        replace: true\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MyToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          maxWidth: 500,\n          marginX: \"auto\",\n          boxShadow: 4,\n          bgcolor: \"#EEF2FF\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h3\",\n            component: \"h1\",\n            textAlign: \"center\",\n            sx: {\n              margin: 5\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            id: \"email\",\n            name: \"email\",\n            margin: \"normal\",\n            value: user.email,\n            onChange: handleChange,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Password\",\n            id: \"password\",\n            name: \"password\",\n            type: \"password\",\n            margin: \"normal\",\n            value: user.password,\n            onChange: handleChange,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            size: \"large\",\n            sx: {\n              paddingX: 5,\n              paddingY: 1,\n              marginY: 2\n            },\n            onClick: handleSubmit,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            paragraph: true,\n            gutterBottom: true,\n            variant: \"subtitle2\",\n            sx: {\n              fontSize: \"1rem\"\n            },\n            children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Log in\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/register\",\n                style: {\n                  textDecoration: \"none\"\n                },\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"uHr+THf+iaTl6AVA7qS+bV35aKg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/navyabhatia/Desktop/react-wiki/src/Components/UserPage/LoginPage.js"],"names":["React","ToastContainer","toast","useState","useEffect","Link","useNavigate","TextField","Container","Button","Typography","Card","CardContent","Tooltip","loginUser","MyToastContainer","initialFormState","email","password","Login","navigate","user","setUser","handleChange","e","prevState","target","name","value","handleSubmit","preventDefault","data","success","console","log","localStorage","setItem","replace","error","msg","getItem","marginTop","maxWidth","marginX","boxShadow","bgcolor","margin","paddingX","paddingY","marginY","fontSize","textDecoration"],"mappings":"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","sourcesContent":["/*import React from 'react'\n\nconst LoginPage = () => {\n    return (\n        <div>\n            loginpage arrived;\n        </div>\n    )\n}\n\nexport default LoginPage\n*/\nimport React from 'react';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\n\nimport {\n  TextField,\n  Container,\n  Button,\n  Typography,\n  Card,\n  CardContent,\n  Tooltip,\n} from \"@mui/material\";\nimport loginUser from \"./Components/UserPage/LoginUser\";\nimport MyToastContainer from \"./Components/UserPage/MyToastContainer\";\n\nconst initialFormState = {\n  email: \"\",\n  password: \"\",\n};\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(initialFormState);\n\n  const handleChange = (e) => {\n    setUser((prevState) => ({ ...prevState, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = await loginUser(user); // call api\n    if (data.success) {\n      // if login success\n      console.log(\"login successful\");\n      localStorage.setItem(\"isLoggedIn\", true);\n      navigate(\"/\", { replace: true });\n      return;\n    }\n    // if login failed\n    toast.error(`${data.msg}`);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"isLoggedIn\")) {\n      // user already logged in\n      navigate(\"/\", { replace: true });\n    }\n  });\n\n  return (\n    <>\n      <MyToastContainer />\n      <Container sx={{ marginTop: 10 }}>\n        <Card\n          sx={{\n            maxWidth: 500,\n            marginX: \"auto\",\n            boxShadow: 4,\n            bgcolor: \"#EEF2FF\",\n          }}>\n          <CardContent>\n            <Typography\n              variant=\"h3\"\n              component=\"h1\"\n              textAlign=\"center\"\n              sx={{ margin: 5 }}>\n              Login\n            </Typography>\n            <TextField\n              label=\"Email\"\n              id=\"email\"\n              name=\"email\"\n              margin=\"normal\"\n              value={user.email}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              label=\"Password\"\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              margin=\"normal\"\n              value={user.password}\n              onChange={handleChange}\n              fullWidth\n            />\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              sx={{ paddingX: 5, paddingY: 1, marginY: 2 }}\n              onClick={handleSubmit}>\n              Login\n            </Button>\n            <Typography\n              paragraph\n              gutterBottom\n              variant=\"subtitle2\"\n              sx={{ fontSize: \"1rem\" }}>\n              Don't have an account?{\" \"}\n              <Tooltip title=\"Log in\">\n                <Link to=\"/register\" style={{ textDecoration: \"none\" }}>\n                  Register\n                </Link>\n              </Tooltip>\n            </Typography>\n          </CardContent>\n        </Card>\n      </Container>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}